<script type="text/javascript">
    function siteTime(){
        window.setTimeout("siteTime()", 1000);
        var days = 24 * 60 * 60 * 1000;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth()+1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        var t1 = Date.UTC(2024, 4, 12, 14, 0, 0);
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2-t1;
        var diffDays = Math.floor((diff/days));
        document.getElementById("sitetime").innerHTML=diffDays;
    }
    siteTime();
</script>

<script>
    const repoUrl = "https://api.github.com/repos/lyh-space/lyh-space.github.io";
    const lastUpdatedElement = document.getElementById('last-updated');

    fetch(repoUrl)
        .then(response => {
            if (!response.ok) {
                throw new Error("Failed to fetch GitHub API");
            }
            return response.json();
        })
        .then(data => {
            const updatedAt = new Date(data.updated_at);
            lastUpdatedElement.textContent = `Last Updated: ${updatedAt.toLocaleString('zh-CN', { timeZone: 'Asia/Shanghai' })} (UTC+8)`;
        })
        .catch(error => {
            lastUpdatedElement.textContent = "Last Updated: unknown";
            console.error(error);
        });
</script>


<ul>
    <li>
        <p>
            This site has been running for <span id='sitetime'></span> days. <a id="last-updated">Loading...</a>
        </p>
    </li>
    <li>
        <p>
            Copyright &copy; 2024 Li Yu-Hao. All Rights Reserved.
        </p>
    </li>
</ul>